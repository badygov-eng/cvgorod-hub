# =============================================================================
# cvgorod-hub Environment Configuration
# =============================================================================
# ВАЖНО: Скопируйте этот файл в .env и заполните значения
# НЕ КОММИТИТЬ .env файл!
#
# Источники секретов (~/.secrets/):
#   - telegram/cvgorod_hub.token → TELEGRAM_BOT_TOKEN
#   - cvgorod/hub_api.env        → HUB_API_KEY
#   - cloud/deepseek.env         → DEEPSEEK_API_KEY
#   - yandex/tracker.env         → TRACKER_TOKEN
# =============================================================================

# Environment: development | production
ENVIRONMENT=development

# =============================================================================
# API Configuration
# =============================================================================
HUB_API_HOST=127.0.0.1
HUB_API_PORT=8300
# HUB_API_KEY загружается из ~/.secrets/cvgorod/hub_api.env

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
# Формат: postgresql://user:password@host:port/database
# DEV:  postgresql://cvgorod:${POSTGRES_PASSWORD}@localhost:5433/cvgorod_hub
# PROD: postgresql://cvgorod:${POSTGRES_PASSWORD}@postgres:5432/cvgorod_hub
DATABASE_URL=postgresql://cvgorod:${POSTGRES_PASSWORD}@localhost:5433/cvgorod_hub
POSTGRES_PASSWORD=  # ← Заполнить! Получить из ~/.secrets/databases/cvgorod.env

# =============================================================================
# Redis
# =============================================================================
# DEV:  redis://localhost:6380
# PROD: redis://redis:6379
REDIS_URL=redis://localhost:6380

# =============================================================================
# Telegram Bot
# =============================================================================
# TELEGRAM_BOT_TOKEN загружается из ~/.secrets/telegram/cvgorod_hub.token
# НЕ дублировать здесь!

# =============================================================================
# DeepSeek API (Intent Classification)
# =============================================================================
# DEEPSEEK_API_KEY загружается из ~/.secrets/cloud/deepseek.env
DEEPSEEK_MODEL=deepseek-chat
INTENT_CLASSIFIER_BATCH_TIMEOUT=5.0
INTENT_CLASSIFIER_BATCH_SIZE=10

# =============================================================================
# Sandbox (ответы ботов)
# =============================================================================
SANDBOX_ENABLED=false

# =============================================================================
# Admin Configuration
# =============================================================================
ADMIN_IDS=  # ← Заполнить! Comma-separated Telegram user IDs

# =============================================================================
# Secrets Path
# =============================================================================
SECRETS_PATH=~/.secrets

# =============================================================================
# Yandex Tracker (опционально)
# =============================================================================
# TRACKER_TOKEN загружается из ~/.secrets/yandex/tracker.env
TRACKER_ENABLED=false
TRACKER_QUEUE=TGBOTCG
